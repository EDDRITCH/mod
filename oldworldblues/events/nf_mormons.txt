add_namespace = nf_mormon

country_event = {
	id = nf_mormon.1
	title = nf_mormon.1.t
	desc = nf_mormon.1.d
	picture = GFX_event_NCN_new_canaan

	is_triggered_only = yes

	option = {
		name = nf_mormon.1.a

		add_ideas = mormons_all

		add_stability = 0.01

		551 = {
			add_resource = {
				type = water
				amount = 9
			}
			add_resource = {
				type = metal
				amount = 6
			}
		}
	}

	option = {
		name = nf_mormon.1.b

		add_ideas = mormons_outside

		add_war_support = -0.02
		add_stability = -0.03

		551 = {
			add_resource = {
				type = water
				amount = 6
			}
			add_resource = {
				type = metal
				amount = 4
			}
		}

	}

	option = {
		name = nf_mormon.1.c

		add_ideas = mormons_converts

		add_stability = 0.1

		551 = {
			add_resource = {
				type = water
				amount = 3
			}
			add_resource = {
				type = metal
				amount = 2
			}
		}
	}
}

country_event = {
	id = nf_mormon.2
	title = nf_mormon.2.t
	desc = nf_mormon.2.d
	picture = GFX_event_generic_settlement_1

	is_triggered_only = yes

	option = {
		name = nf_mormon.2.a

		custom_effect_tooltip = godlyautomatons_tt

		hidden_effect = {
			set_technology = { commercial_protectron = 1 }
			load_oob = godlyautomatons
			random_owned_controlled_state = {
				add_resource = {
				type = electricity
				amount = 10
			}
		}
		}
	}
	option = {
		name = nf_mormon.2.b

		custom_effect_tooltip = holyclergy_tt
		hidden_effect = {
			load_oob = holyclergy
		}

	}

	option = {
		name = nf_mormon.2.c

		custom_effect_tooltip = noblesavages_tt
		hidden_effect = {
			load_oob = noblesavages
		}

	}
}
country_event = {
	id = nf_mormon.3
	title = nf_mormon.3.t
	desc = nf_mormon.3.d
	picture = GFX_event_generic_caravan

	is_triggered_only = yes

	option = {
		name = nf_mormon.3.a
		add_ideas = nojericho
		266 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
	}

	option = {
		name = nf_mormon.3.b
		add_ideas = jericofaithful
		266 = {
		add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 2
				instant_build = yes
			}
		}
	}

	option = {
		name = nf_mormon.3.c
		add_ideas = godmercy
		266 = {
		add_extra_state_shared_building_slots = 3
			add_building_construction = {
				type = industrial_complex
				level = 2
				instant_build = yes
			}
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
	}
}
# nation refuses annexation
country_event = {
	id = nf_mormon.4
	title = nf_mormon.4.t
	desc = nf_mormon.4.d
	picture = GFX_event_NCN_new_canaan

	is_triggered_only = yes

	option = {
		name = nf_mormon.4.a
		NCN = { puppet = ROOT }
	}
	option = {
		name = nf_mormon.4.b
		NCN = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = ROOT
			}
		}
	}
}
country_event = {
	id = nf_mormon.5
	title = nf_mormon.5.t
	desc = nf_mormon.5.d
	picture = GFX_report_event_fascist_speech

	is_triggered_only = yes

	option = {
		name = nf_mormon.5.a
	}
}

country_event = { # Religious fanatics attempt seizure power
	id = nf_mormon.8
	title = nf_mormon.8.t
	desc = nf_mormon.8.d
	picture = GFX_event_HEA_bishop1

	is_triggered_only = yes

	option = { # We find ourselves under New Cannan's thumb
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] option nf_mormon.8.a entered"
		}
		name = nf_mormon.8.a
		if = {
			limit = {
				AND = {
					NOT = { is_puppet = yes }
					NOT = { is_in_faction_with = HEA }
				}
			}
			NCN = { puppet = ROOT }
		}
		else = {
			overlord = {
				country_event = { id = nf_mormon.9 } # Coup in our puppet!
			}
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] option nf_mormon.8.a exited"
		}
	}
	option = { # The coup is put down
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] option nf_mormon.8.b entered"
		}
		trigger = { is_ai = no }
		name = nf_mormon.8.b
		NCN = {
			country_event = { id = nf_mormon.80 } # Seizure of power unsuccessful
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] option nf_mormon.8.b exited"
		}
	}
}

country_event = { # Our coup is unsuccessful
	id = nf_mormon.80
	title = nf_mormon.80.t
	desc = nf_mormon.80.d
	picture = GFX_event_HEA_bishop1

	is_triggered_only = yes

	option = { # Force is just as effective as faith
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] option nf_mormon.88.a entered"
		}
		name = nf_mormon.80.a
		create_wargoal = {
			type = puppet_wargoal_focus
			target = FROM
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] option nf_mormon.80.a exited"
		}
	}
}

country_event = { # Religious fanatics launch a coup in our puppet
	id = nf_mormon.9
	title = nf_mormon.9.t
	desc = nf_mormon.9.d
	picture = GFX_event_HEA_bishop1

	is_triggered_only = yes

	option = { # Let them go
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] option nf_mormon.9.a entered"
		}
		name = nf_mormon.9.a
		ai_chance = {
			base = 1
		}
		end_puppet = FROM
		NCN = { puppet = FROM }
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] option nf_mormon.9.a exited"
		}
	}
	option = { # Launch a counter-coup
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] option nf_mormon.9.b entered"
		}
		name = nf_mormon.9.b
		ai_chance = {
			base = 7
		}
		log = "Counter-coup launched"
		custom_effect_tooltip = NCN_convertion_cw
		hidden_effect = {
			FROM = {
				if = {
					limit = {
						has_government = people
					}
					start_civil_war = {
						ruling_party = ruler
						ideology = ruler
						size = 0.6
					}
				}
				else = {
					start_civil_war = {
						ruling_party = elites
						ideology = elites
						size = 0.6
					}
				}
			}
			every_country = { # We puppet the revolter
				limit = {
					original_tag = FROM
					NOT = { is_puppet_of = ROOT }
				}
				NCN = { puppet = PREV }
				if = {
					limit = { NOT = { has_war_with = FROM } }
					FROM = { declare_war_on = { target = PREV type = civil_war } }
				}
				PREV = {
					add_to_war = {
						targeted_alliance = FROM
						enemy = PREV
					}
				}
				NCN = {
					add_to_war = {
						targeted_alliance = PREV
						enemy = FROM
					}
				}
			}
		}
		NCN = { country_event = { id = nf_mormon.90 } }
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] option nf_mormon.9.b exited"
		}
	}
}

country_event = { # Overlord launches a counter-coup
	id = nf_mormon.90
	title = nf_mormon.90.t
	desc = nf_mormon.90.d
	picture = GFX_event_HEA_bishop1

	is_triggered_only = yes

	option = { # We will help our followers out
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] option nf_mormon.90.a entered"
		}
		name = nf_mormon.90.a
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] option nf_mormon.90.a exited"
		}
	}
}