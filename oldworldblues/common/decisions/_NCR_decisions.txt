NCR_helios_category = {

	NCR_repair_helios_fantastic = {

		icon = generic_oppression
		
		available = {
			NCR = { owns_state = 417 }
			NCR = { controls_state = 417 }
		}

		highlight_states = {
			state = 417
		}

		cost = 50

		ai_will_do = {
			factor = 33
		}

		visible = {
			NCR = { owns_state = 417 }
			NOT = { has_country_flag = NCR_helios_brotherhood}
			OR = { NOT = { has_country_flag = NCR_helios_fantastic}}
			OR = { NOT = { has_country_flag = NCR_helios_followers}}
		}

		is_good = yes

		complete_effect = {
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Root.GetName] NCR_repair_helios_fantastic (decision) complete entered"
			}
			set_country_flag = NCR_helios_fantastic
			
			417 = {
			add_extra_state_shared_building_slots = 5
			add_building_construction = {
					type = electricity_generator
					level = 5
					instant_build = yes
				}	
				add_resource = {
					type = fuel
					amount = 15
				}	
				add_resource = {
					type = electricity
					amount = 15
				}				  
			}
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Root.GetName] NCR_repair_helios_fantastic (decision) complete exited"
			}
		}
	}
	
	NCR_repair_helios_followers = {

		icon = generic_oppression
		
		available = {
			NCR = { owns_state = 417 }
			NCR = { controls_state = 417 }
		}

		highlight_states = {
			state = 417
		}

		cost = 100

		ai_will_do = {
			factor = 33
		}

		visible = {
			NCR = { owns_state = 417 }
			NOT = { has_country_flag = NCR_helios_brotherhood}
			OR = { NOT = { has_country_flag = NCR_helios_fantastic}}
			OR = {NOT = { has_country_flag = NCR_helios_followers}}
		}

		is_good = yes

		complete_effect = {
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Root.GetName] NCR_repair_helios_followers (decision) complete entered"
			}
			set_country_flag = NCR_helios_followers
			417 = {
				add_extra_state_shared_building_slots = 5
				add_building_construction = {
						type = electricity_generator
						level = 5
						instant_build = yes
					}	
				add_resource = {
					type = fuel
					amount = 20
				}
				add_resource = {
					type = electricity
					amount = 20
				}
			}
			custom_effect_tooltip = repair_helios_vegas_tt
			hidden_effect = {
				VEG = { add_opinion_modifier = { target = NCR modifier = repairedhelios }}
				KHA = { add_opinion_modifier = { target = NCR modifier = repairedhelios }} 
				NCR = { add_opinion_modifier = { target = KHA modifier = repairedhelios }}
				NCR = { add_opinion_modifier = { target = VEG modifier = repairedhelios }}
				480 = {
					add_resource = {
						type = electricity
						amount = 5
					}	
					add_resource = {
						type = fuel
						amount = 5
					}
				}
				
				46 = {
					add_resource = {
						type = electricity
						amount = 5
					}
					add_resource = {
						type = fuel
						amount = 5
					}
				}
				
				211 = {
					add_resource = {
						type = electricity
						amount = 5
					}
					add_resource = {
						type = fuel
						amount = 5
					}
				}
				
				106 = {
					add_resource = {
						type = electricity
						amount = 5
					}
					add_resource = {
						type = fuel
						amount = 5
					}
				}
			}
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Root.GetName] NCR_repair_helios_followers (decision) complete exited"
			}
		}
	}
	
	NCR_repair_helios_brotherhood = {

		icon = generic_oppression
		
		available = {
			NCR = { owns_state = 417 }
			NCR = { controls_state = 417 }
			MOJ = { exists = yes }
		}

		highlight_states = {
			state = 417
		}

		cost = 150

		ai_will_do = {
			factor = 33
		}

		visible = {
			NCR = { owns_state = 417 }
			NOT = { has_country_flag = NCR_helios_followers}
			OR = { NOT = { has_country_flag = NCR_helios_fantastic}}
			OR = { NOT = { has_country_flag = NCR_helios_brotherhood}}
			MOJ = { exists = yes }
		}

		is_good = yes

		complete_effect = {
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Root.GetName] NCR_repair_helios_brotherhood (decision) complete entered"
			}
			set_country_flag = NCR_helios_brotherhood
			417 = {
				add_extra_state_shared_building_slots = 5
				add_building_construction = {
						type = electricity_generator
						level = 5
						instant_build = yes
					}
				add_resource = {
					type = fuel
					amount = 35
				}
				add_resource = {
					type = electricity
					amount = 35
				}
			}
			custom_effect_tooltip = NCR_coup_tt
			hidden_effect = {
				random_list = {
					50 = {
						country_event = ncr_helios_event.21
						MOJ = {country_event = ncr_helios_event.23}
					}
					50 = {
						country_event = ncr_helios_event.22
					}
				}
			}
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Root.GetName] NCR_repair_helios_brotherhood (decision) complete exited"
			}
		}
	}
}

NCR_heavytroops_focus_category = {
	NCR_armourexperiment_focus = {
		icon = GFX_decision_oppression
		
		available = {
			NCR = { owns_state = 253 }
			NCR = { controls_state = 253 }
			hidden_trigger = { NCR = { NOT = { has_country_flag = ncr_spawned_armorexperiment } } }
		}

		highlight_states = {
			state = 253
		}

		cost = 0

		ai_will_do = {
			factor = 100
		}

		visible = {
			NCR = { owns_state = 253 }
			NCR = { has_completed_focus = ncr_armourexperiment }
			hidden_trigger = { NCR = { NOT = { has_country_flag = ncr_spawned_armorexperiment } } }
		}

		is_good = yes

		complete_effect = {
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Root.GetName] NCR_armourexperiment_focus (decision) complete entered"
			}
			custom_effect_tooltip = load_ncrheavytroops
			hidden_effect = {
				load_oob = ncrheavytroops
				set_country_flag = ncr_spawned_armorexperiment
			}
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Root.GetName] NCR_armourexperiment_focus (decision) complete exited"
			}
		}
	}
	NCR_protege_focus = {
		icon = GFX_decision_oppression
		
		available = {
			NCR = { owns_state = 253 }
			NCR = { controls_state = 253 }
			hidden_trigger = { NCR = { NOT = { has_country_flag = ncr_spawned_protege } } }
		}

		highlight_states = {
			state = 253
		}

		cost = 0

		ai_will_do = {
			factor = 100
		}

		visible = {
			NCR = { owns_state = 253 }
			NCR = { has_completed_focus = ncr_protege }
			hidden_trigger = { NCR = { NOT = { has_country_flag = ncr_spawned_protege } } }
		}

		is_good = yes

		complete_effect = {
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Root.GetName] NCR_protege_focus (decision) complete entered"
			}
			custom_effect_tooltip = load_ncrheavytroops
			hidden_effect = {
				load_oob = ncrheavytroops
				set_country_flag = ncr_spawned_protege
			}
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Root.GetName] NCR_protege_focus (decision) complete exited"
			}
		}
	}
	NCR_heavytroops_focus = {
		icon = GFX_decision_oppression
		
		available = {
			NCR = { owns_state = 253 }
			NCR = { controls_state = 253 }
			hidden_trigger = { NCR = { NOT = { has_country_flag = ncr_spawned_heavytroops } } }
		}

		highlight_states = {
			state = 253
		}

		cost = 0

		ai_will_do = {
			factor = 100
		}

		visible = {
			NCR = { owns_state = 253 }
			NCR = { has_completed_focus = ncr_heavytroops }
			hidden_trigger = { NCR = { NOT = { has_country_flag = ncr_spawned_heavytroops } } }
		}

		is_good = yes

		complete_effect = {
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Root.GetName] NCR_heavytroops_focus (decision) complete entered"
			}
			custom_effect_tooltip = load_ncrheavytroops
			hidden_effect = {
				load_oob = ncrheavytroops
				set_country_flag = ncr_spawned_heavytroops
			}
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Root.GetName] NCR_heavytroops_focus (decision) complete exited"
			}
		}
	}
}

ncr_revolts = {
	seek_peace = {
		visible = {
			has_variable = revolt_progress
			tag = NCR
		}
		fire_only_once = yes
		cost = 0
		ai_will_do = { # AI will do it after 3 events have fired
			factor = 0
			modifier = {
				add = 1000
				check_variable = { var = revolt_progress value = 2 compare = greater_than_or_equals }
			}
		}
		complete_effect = {
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Root.GetName] seek_peace (decision) complete entered"
			}
			every_country = {
				limit = {
					OR = {
						tag = PHR
						is_in_faction_with = PHR
					}
				}
				white_peace = NCR
			}
			hidden_effect = { PHR = { country_event = { id = nf_ncr.40 days = 10 } } } # Dissolution of the Federation
			if = {
				limit = { check_variable = { revolt_progress = 1 } }
				add_political_power = -50 # wuss
			}
			else_if = {
				limit = { check_variable = { revolt_progress = 2 } }
				add_timed_idea = { idea = ncr_revolts_development days = 60 }
				every_country = {
					limit = {
						OR = {
							tag = PHR
							is_in_faction_with = PHR
						}
					}
					add_timed_idea = { idea = ncr_revolts_payments days = 60 }
				}
				add_political_power = -20 # Slightly less of a wuss
			}
			else_if = {
				limit = { check_variable = { revolt_progress = 2 } }
				add_timed_idea = { idea = ncr_revolts_development days = 90 }
				every_country = {
					limit = {
						OR = {
							tag = PHR
							is_in_faction_with = PHR
						}
					}
					add_timed_idea = { idea = ncr_revolts_payments days = 90 }
				}
			}
			else_if = {
				limit = { check_variable = { revolt_progress = 3 } }
				add_timed_idea = { idea = ncr_revolts_development days = 180 }
				every_country = {
					limit = {
						OR = {
							tag = PHR
							is_in_faction_with = PHR
						}
					}
					add_timed_idea = { idea = ncr_revolts_payments days = 180 }
				}
			}
			else_if = {
				limit = { check_variable = { revolt_progress = 4 } }
				add_timed_idea = { idea = ncr_revolts_development days = 360 }
				every_country = {
					limit = {
						OR = {
							tag = PHR
							is_in_faction_with = PHR
						}
					}
					add_timed_idea = { idea = ncr_revolts_payments days = 360 }
				}
			}
			else_if = {
				limit = { check_variable = { revolt_progress = 5 } }
				add_timed_idea = { idea = ncr_revolts_development days = 720 }
				every_country = {
					limit = {
						OR = {
							tag = PHR
							is_in_faction_with = PHR
						}
					}
					add_timed_idea = { idea = ncr_revolts_payments days = 720 }
				}
			}
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Root.GetName] seek_peace (decision) complete exited"
			}
		}
	}
}

########################
#  NCR Raider Trouble  #
# Scripted by HappyNTH #
########################

# Setting the pulse for each district
@sr_pulse = 90
@redding_pulse = 80
@diablo_pulse = 90
@rapids_pulse = 65
@boneyard_pulse = 70
@mojave_pulse = 60
@scor_pulse = 70
@baja_pulse = 65
@ranchers_pulse = 110
@nevada_pulse = 90
@junktown_pulse = 120

ncr_raider_trouble = {
	# Planning at https://docs.google.com/document/d/1XNZdjfPeu2SCb2QZ5lXqY9FUXj9XMaXnS_5jOVhVzc0
	## Santa Rose ##
	raider_pulse_sr = {
		activation = {
			NOT = { check_variable = { sr_intensity = 0 } }
			any_owned_state = {
				sr_raid_district = yes
			}
			OR = {
				tag = NCR
				is_puppet_of = NCR
			}
		}
		days_mission_timeout = @sr_pulse
		is_good = no
		available = {
			hidden_trigger = { always = no }
		}
		timeout_effect = {
			if = {
				limit = { check_variable = { sr_intensity = 0 } }
				#no_more_raiders = yes # Calls the scripted effect to end the raids in the district
			}
			else_if = {
				limit = { check_variable = { sr_intensity = 1 } }
				random_list = {
					80 = {
						random_owned_state = {
							limit = { sr_raid_district = yes }
							damage_building = {
								type = infrastructure
								damage = 1
							}
							ROOT = {
								random_owned_state = {
									limit = {
										sr_raid_district = yes
										NOT = { state = PREV.PREV }
									}
									damage_building = {
										type = infrastructure
										damage = 1
									}
								}
							}
						}
					}
					20 = {}
				}
				random_list = {
					32 = {
						add_to_variable = { var = sr_intensity value = 1 }
						custom_effect_tooltip = intensity_increases
					}
					68 = {}	
				}
			}
			else_if = {
				limit = { check_variable = { sr_intensity = 2 } }
				random_list = {
					80 = {
						random_owned_state = {
							limit = { sr_raid_district = yes }
							damage_building = {
								type = infrastructure
								damage = 2
							}
							ROOT = {
								random_owned_state = {
									limit = {
										sr_raid_district = yes
										NOT = { state = PREV.PREV }
									}
									damage_building = {
										type = infrastructure
										damage = 2
									}
								}
							}
						}
					}
					20 = {}
				}
				if = {
					limit = {
						any_owned_state = {
							sr_raid_district = yes
							industrial_complex > 0
						}
					}
					random_list = {
						75 = {
							random_owned_state = {
								limit = {
									sr_raid_district = yes
									industrial_complex > 0
								}
								damage_building = {
									type = industrial_complex
									damage = 0.3
								}
								ROOT = {
									random_owned_state = {
										limit = {
											sr_raid_district = yes
											industrial_complex > 0
											NOT = { state = PREV.PREV }
										}
										damage_building = {
											type = industrial_complex
											damage = 0.3
										}
									}
								}
							}
						}
						25 = {}
					}
				}
				random_list = {
					42 = {
						add_to_variable = { var = sr_intensity value = 1 }
						custom_effect_tooltip = intensity_increases
					}
					58 = {}
				}
			}
			else_if = {
				limit = {
					check_variable = { sr_intensity = 3 }
				}
				random_list = {
					80 = {
						random_owned_state = {
							limit = { sr_raid_district = yes }
							damage_building = {
								type = infrastructure
								damage = 2
							}
							ROOT = {
								random_owned_state = {
									limit = {
										sr_raid_district = yes
										NOT = { state = PREV.PREV }
									}
									damage_building = {
										type = infrastructure
										damage = 2
									}
									ROOT = {
										random_owned_state = {
											limit = {
												sr_raid_district = yes
												NOT = { state = PREV.PREV }
												NOT = { state = PREV.PREV.PREV.PREV }
											}
											damage_building = {
												type = infrastructure
												damage = 2
											}
										}
									}
								}
							}
						}
					}
					20 = {}
				}
				if = {
					limit = {
						any_owned_state = {
							sr_raid_district = yes
							industrial_complex > 0
						}
					}
					random_list = {
						75 = {
							random_owned_state = {
								limit = {
									sr_raid_district = yes
									industrial_complex > 0
								}
								damage_building = {
									type = industrial_complex
									damage = 0.6
								}
								ROOT = {
									random_owned_state = {
										limit = {
											sr_raid_district = yes
											industrial_complex > 0
											NOT = { state = PREV.PREV }
										}
										damage_building = {
											type = industrial_complex
											damage = 0.6
										}
									}
								}
							}
						}
						25 = {}
					}
				}
				random_list = {
					52 = {
						add_to_variable = { var = sr_intensity value = 1 }
						custom_effect_tooltip = intensity_increases
					}
					48 = {}
				}
			}
			else_if = {
				limit = { 
					check_variable = { sr_intensity = 4 }
				}
				random_list = {
					80 = {
						random_owned_state = {
							limit = { sr_raid_district = yes }
							damage_building = {
								type = infrastructure
								damage = 2
							}
							ROOT = {
								random_owned_state = {
									limit = {
										sr_raid_district = yes
										NOT = { state = PREV.PREV }
									}
									damage_building = {
										type = infrastructure
										damage = 2
									}
									ROOT = {
										random_owned_state = {
											limit = {
												sr_raid_district = yes
												NOT = { state = PREV.PREV }
												NOT = { state = PREV.PREV.PREV.PREV }
											}
											damage_building = {
												type = infrastructure
												damage = 2
											}
										}
									}
								}
							}
						}
					}
					20 = {}
				}
				if = {
					limit = {
						any_owned_state = {
							sr_raid_district = yes
							industrial_complex > 0
						}
					}
					random_list = {
						75 = {
							random_owned_state = {
								limit = {
									sr_raid_district = yes
									industrial_complex > 0
								}
								damage_building = {
									type = industrial_complex
									damage = 0.6
								}
								ROOT = {
									random_owned_state = {
										limit = {
											sr_raid_district = yes
											industrial_complex > 0
											NOT = { state = PREV.PREV }
										}
										damage_building = {
											type = industrial_complex
											damage = 0.6
										}
									}
								}
							}
						}
						25 = {}
					}
				}
				if = {
					limit = {
						any_owned_state = {
							sr_raid_district = yes
							arms_factory > 0
						}
					}
						random_list = {
						75 = {
							random_owned_state = {
								limit = {
									sr_raid_district = yes
									arms_factory > 0
								}
								damage_building = {
									type = arms_factory
									damage = 0.3
								}
								if = {
									limit = {
										dockyard > 0
									}
									damage_building = {
										type = dockyard
										damage = 0.3
									}
								}
								ROOT = {
									random_owned_state = {
										limit = {
											sr_raid_district = yes
											arms_factory > 0
											NOT = { state = PREV.PREV }
										}
										damage_building = {
											type = arms_factory
											damage = 0.3
										}
										if = {
											limit = {
												dockyard > 0
											}
											damage_building = {
												type = dockyard
												damage = 0.3
											}
										}
									}
								}
							}
						}
						25 = {}
					}
				}
				random_list = {
					55 = { country_event = { id = raid_trouble.1 } }
					45 = {}
				}
				random_list = {
					52 = {
						add_to_variable = { var = sr_intensity value = 1 }
						custom_effect_tooltip = intensity_increases
					}
					48 = {}
				}
			}
			else_if = {
				limit = { 
					check_variable = { sr_intensity = 5 }
				}
				random_list = {
					80 = {
						random_owned_state = {
							limit = { sr_raid_district = yes }
							damage_building = {
								type = infrastructure
								damage = 3
							}
							ROOT = {
								random_owned_state = {
									limit = {
										sr_raid_district = yes
										NOT = { state = PREV.PREV }
									}
									damage_building = {
										type = infrastructure
										damage = 3
									}
									ROOT = {
										random_owned_state = {
											limit = {
												sr_raid_district = yes
												NOT = { state = PREV.PREV }
												NOT = { state = PREV.PREV.PREV.PREV }
											}
											damage_building = {
												type = infrastructure
												damage = 3
											}
										}
									}
								}
							}
						}
					}
					20 = {}
				}
				if = {
					limit = {
						any_owned_state = {
							sr_raid_district = yes
							industrial_complex > 0
						}
					}
					random_list = {
						75 = {
							random_owned_state = {
								limit = {
									sr_raid_district = yes
									industrial_complex > 0
								}
								damage_building = {
									type = industrial_complex
									damage = 0.6
								}
								ROOT = {
									random_owned_state = {
										limit = {
											sr_raid_district = yes
											industrial_complex > 0
											NOT = { state = PREV.PREV }
										}
										damage_building = {
											type = industrial_complex
											damage = 0.6
										}
										ROOT = {
											random_owned_state = {
												limit = {
													sr_raid_district = yes
													industrial_complex > 0
													NOT = { state = PREV.PREV }
													NOT = { state = PREV.PREV.PREV.PREV }
												}
												damage_building = {
													type = industrial_complex
													damage = 0.6
												}
											}
										}
									}
								}
							}
						}
						25 = {}
					}
				}
				if = {
					limit = {
						any_owned_state = {
							sr_raid_district = yes
							arms_factory > 0
						}
					}
					random_list = {
						75 = {
							random_owned_state = {
								limit = {
									sr_raid_district = yes
									arms_factory > 0
								}
								damage_building = {
									type = arms_factory
									damage = 0.3
								}
								if = {
									limit = {
										dockyard > 0
									}
									damage_building = {
										type = dockyard
										damage = 0.3
									}
								}
								ROOT = {
									random_owned_state = {
										limit = {
											sr_raid_district = yes
											arms_factory > 0
											NOT = { state = PREV.PREV }
										}
										damage_building = {
											type = arms_factory
											damage = 0.3
										}
										if = {
											limit = {
												dockyard > 0
											}
											damage_building = {
												type = dockyard
												damage = 0.3
											}
										}
									}
								}
							}
						}
						25 = {}
					}
				}
				random_list = {
					5 = { country_event = { id = raid_trouble.2 } }
					55 = { country_event = { id = raid_trouble.1 } }
					40 = {}
				}
				random_list = {
					52 = {
						add_to_variable = { var = sr_intensity value = 1 }
						custom_effect_tooltip = intensity_increases
					}
					48 = {}
				}
			}
			else_if = {
				limit = { 
					check_variable = { sr_intensity = 6 }
				}
				random_list = {
					80 = {
						random_owned_state = {
							limit = { sr_raid_district = yes }
							damage_building = {
								type = infrastructure
								damage = 3
							}
							ROOT = {
								random_owned_state = {
									limit = {
										sr_raid_district = yes
										NOT = { state = PREV.PREV }
									}
									damage_building = {
										type = infrastructure
										damage = 3
									}
									ROOT = {
										random_owned_state = {
											limit = {
												sr_raid_district = yes
												NOT = { state = PREV.PREV }
												NOT = { state = PREV.PREV.PREV.PREV }
											}
											damage_building = {
												type = infrastructure
												damage = 3
											}
										}
									}
								}
							}
						}
					}
					20 = {}
				}
				if = {
					limit = {
						any_owned_state = {
							sr_raid_district = yes
							industrial_complex > 0
						}
					}
					random_list = {
						75 = {
							random_owned_state = {
								limit = {
									sr_raid_district = yes
									industrial_complex > 0
								}
								damage_building = {
									type = industrial_complex
									damage = 0.6
								}
								ROOT = {
									random_owned_state = {
										limit = {
											sr_raid_district = yes
											industrial_complex > 0
											NOT = { state = PREV.PREV }
										}
										damage_building = {
											type = industrial_complex
											damage = 0.6
										}
										ROOT = {
											random_owned_state = {
												limit = {
													sr_raid_district = yes
													industrial_complex > 0
													NOT = { state = PREV.PREV }
													NOT = { state = PREV.PREV.PREV.PREV }
												}
												damage_building = {
													type = industrial_complex
													damage = 0.6
												}
											}
										}
									}
								}
							}
						}
						25 = {}
					}
				}
				if = {
					limit = {
						any_owned_state = {
							sr_raid_district = yes
							arms_factory > 0
						}
					}
					random_list = {
						75 = {
							random_owned_state = {
								limit = {
									sr_raid_district = yes
									arms_factory > 0
								}
								damage_building = {
									type = arms_factory
									damage = 0.6
								}
								if = {
									limit = {
										dockyard > 0
									}
									damage_building = {
										type = dockyard
										damage = 0.6
									}
								}
								ROOT = {
									random_owned_state = {
										limit = {
											sr_raid_district = yes
											arms_factory > 0
											NOT = { state = PREV.PREV }
										}
										damage_building = {
											type = arms_factory
											damage = 0.6
										}
										if = {
											limit = {
												dockyard > 0
											}
											damage_building = {
												type = dockyard
												damage = 0.6
											}
										}
									}
								}
							}
						}
						25 = {}
					}
				}
				random_list = {
					10 = { country_event = { id = raid_trouble.2 } }
					60 = { country_event = { id = raid_trouble.1 } }
					30 = {}
				}
				random_list = {
					52 = {
						add_to_variable = { var = sr_intensity value = 1 }
						custom_effect_tooltip = intensity_increases
					}
					48 = {}
				}
			}
			else_if = {
				limit = { 
					check_variable = { sr_intensity = 7 }
				}
				random_list = {
					80 = {
						random_owned_state = {
							limit = { sr_raid_district = yes }
							damage_building = {
								type = infrastructure
								damage = 3
							}
							ROOT = {
								random_owned_state = {
									limit = {
										sr_raid_district = yes
										NOT = { state = PREV.PREV }
									}
									damage_building = {
										type = infrastructure
										damage = 3
									}
									ROOT = {
										random_owned_state = {
											limit = {
												sr_raid_district = yes
												NOT = { state = PREV.PREV }
												NOT = { state = PREV.PREV.PREV.PREV }
											}
											damage_building = {
												type = infrastructure
												damage = 3
											}
										}
									}
								}
							}
						}
					}
					20 = {}
				}
				if = {
					limit = {
						any_owned_state = {
							sr_raid_district = yes
							industrial_complex > 0
						}
					}
					random_list = {
						75 = {
							random_owned_state = {
								limit = {
									sr_raid_district = yes
									industrial_complex > 0
								}
								damage_building = {
									type = industrial_complex
									damage = 0.9
								}
								ROOT = {
									random_owned_state = {
										limit = {
											sr_raid_district = yes
											industrial_complex > 0
											NOT = { state = PREV.PREV }
										}
										damage_building = {
											type = industrial_complex
											damage = 0.9
										}
										ROOT = {
											random_owned_state = {
												limit = {
													sr_raid_district = yes
													industrial_complex > 0
													NOT = { state = PREV.PREV }
													NOT = { state = PREV.PREV.PREV.PREV }
												}
												damage_building = {
													type = industrial_complex
													damage = 0.9
												}
											}
										}
									}
								}
							}
						}
						25 = {}
					}
				}
				if = {
					limit = {
						any_owned_state = {
							sr_raid_district = yes
							arms_factory > 0
						}
					}
					random_list = {
						75 = {
							random_owned_state = {
								limit = {
									sr_raid_district = yes
									arms_factory > 0
								}
								damage_building = {
									type = arms_factory
									damage = 0.6
								}
								if = {
									limit = {
										dockyard > 0
									}
									damage_building = {
										type = dockyard
										damage = 0.6
									}
								}
								ROOT = {
									random_owned_state = {
										limit = {
											sr_raid_district = yes
											arms_factory > 0
											NOT = { state = PREV.PREV }
										}
										damage_building = {
											type = arms_factory
											damage = 0.6
										}
										if = {
											limit = {
												dockyard > 0
											}
											damage_building = {
												type = dockyard
												damage = 0.6
											}
										}
									}
								}
							}
						}
						25 = {}
					}
				}
				random_list = {
					50 = { country_event = { id = raid_trouble.2 } }
					20 = { country_event = { id = raid_trouble.1 } }
					30 = {}
				}
				random_list = {
					52 = {
						add_to_variable = { var = sr_intensity value = 1 }
						custom_effect_tooltip = intensity_increases
					}
					48 = {}
				}
			}
			else_if = {
				limit = { 
					check_variable = { sr_intensity = 8 }
				}
				random_list = {
					80 = {
						random_owned_state = {
							limit = { sr_raid_district = yes }
							damage_building = {
								type = infrastructure
								damage = 3
							}
							ROOT = {
								random_owned_state = {
									limit = {
										sr_raid_district = yes
										NOT = { state = PREV.PREV }
									}
									damage_building = {
										type = infrastructure
										damage = 3
									}
									ROOT = {
										random_owned_state = {
											limit = {
												sr_raid_district = yes
												NOT = { state = PREV.PREV }
												NOT = { state = PREV.PREV.PREV.PREV }
											}
											damage_building = {
												type = infrastructure
												damage = 3
											}
										}
									}
								}
							}
						}
					}
					20 = {}
				}
				if = {
					limit = {
						any_owned_state = {
							sr_raid_district = yes
							industrial_complex > 0
						}
					}
					random_list = {
						75 = {
							random_owned_state = {
								limit = {
									sr_raid_district = yes
									industrial_complex > 0
								}
								damage_building = {
									type = industrial_complex
									damage = 0.9
								}
								ROOT = {
									random_owned_state = {
										limit = {
											sr_raid_district = yes
											industrial_complex > 0
											NOT = { state = PREV.PREV }
										}
										damage_building = {
											type = industrial_complex
											damage = 0.9
										}
										ROOT = {
											random_owned_state = {
												limit = {
													sr_raid_district = yes
													industrial_complex > 0
													NOT = { state = PREV.PREV }
													NOT = { state = PREV.PREV.PREV.PREV }
												}
												damage_building = {
													type = industrial_complex
													damage = 0.9
												}
											}
										}
									}
								}
							}
						}
						25 = {}
					}
				}
				if = {
					limit = {
						any_owned_state = {
							sr_raid_district = yes
							arms_factory > 0
						}
					}
					random_list = {
						75 = {
							random_owned_state = {
								limit = {
									sr_raid_district = yes
									arms_factory > 0
								}
								damage_building = {
									type = arms_factory
									damage = 0.9
								}
								if = {
									limit = {
										dockyard > 0
									}
									damage_building = {
										type = dockyard
										damage = 0.9
									}
								}
								ROOT = {
									random_owned_state = {
										limit = {
											sr_raid_district = yes
											arms_factory > 0
											NOT = { state = PREV.PREV }
										}
										damage_building = {
											type = arms_factory
											damage = 0.9
										}
										if = {
											limit = {
												dockyard > 0
											}
											damage_building = {
												type = dockyard
												damage = 0.9
											}
										}
										ROOT = {
											random_owned_state = {
												limit = {
													sr_raid_district = yes
													arms_factory > 0
													NOT = { state = PREV.PREV }
													NOT = { state = PREV.PREV.PREV.PREV }
												}
												damage_building = {
													type = arms_factory
													damage = 0.9
												}
												if = {
													limit = {
														dockyard > 0
													}
													damage_building = {
														type = dockyard
														damage = 0.9
													}
												}
											}
										}
									}
								}
							}
						}
						25 = {}
					}
				}
				random_list = {
					50 = { country_event = { id = raid_trouble.2 } }
					20 = { country_event = { id = raid_trouble.1 } }
					30 = {}
				}
				random_list = {
					52 = {
						add_to_variable = { var = sr_intensity value = 1 }
						custom_effect_tooltip = intensity_increases
					}
					48 = {}
				}
			}
			else_if = {
				limit = { 
					check_variable = { sr_intensity = 9 }
				}
				random_list = {
					80 = {
						random_owned_state = {
							limit = { sr_raid_district = yes }
							damage_building = {
								type = infrastructure
								damage = 3
							}
							ROOT = {
								random_owned_state = {
									limit = {
										sr_raid_district = yes
										NOT = { state = PREV.PREV }
									}
									damage_building = {
										type = infrastructure
										damage = 3
									}
									ROOT = {
										random_owned_state = {
											limit = {
												sr_raid_district = yes
												NOT = { state = PREV.PREV }
												NOT = { state = PREV.PREV.PREV.PREV }
											}
											damage_building = {
												type = infrastructure
												damage = 3
											}
										}
									}
								}
							}
						}
					}
					20 = {}
				}
				if = {
					limit = {
						any_owned_state = {
							sr_raid_district = yes
							industrial_complex > 0
						}
					}
					random_list = {
						75 = {
							random_owned_state = {
								limit = {
									sr_raid_district = yes
									industrial_complex > 0
								}
								damage_building = {
									type = industrial_complex
									damage = 0.9
								}
								ROOT = {
									random_owned_state = {
										limit = {
											sr_raid_district = yes
											industrial_complex > 0
											NOT = { state = PREV.PREV }
										}
										damage_building = {
											type = industrial_complex
											damage = 0.9
										}
										ROOT = {
											random_owned_state = {
												limit = {
													sr_raid_district = yes
													industrial_complex > 0
													NOT = { state = PREV.PREV }
													NOT = { state = PREV.PREV.PREV.PREV }
												}
												damage_building = {
													type = industrial_complex
													damage = 0.9
												}
											}
										}
									}
								}
							}
						}
						25 = {}
					}
				}
				if = {
					limit = {
						any_owned_state = {
							sr_raid_district = yes
							arms_factory > 0
						}
					}
					random_list = {
						75 = {
							random_owned_state = {
								limit = {
									sr_raid_district = yes
									arms_factory > 0
								}
								damage_building = {
									type = arms_factory
									damage = 0.9
								}
								if = {
									limit = {
										dockyard > 0
									}
									damage_building = {
										type = dockyard
										damage = 0.9
									}
								}
								ROOT = {
									random_owned_state = {
										limit = {
											sr_raid_district = yes
											arms_factory > 0
											NOT = { state = PREV.PREV }
										}
										damage_building = {
											type = arms_factory
											damage = 0.9
										}
										if = {
											limit = {
												dockyard > 0
											}
											damage_building = {
												type = dockyard
												damage = 0.9
											}
										}
										ROOT = {
											random_owned_state = {
												limit = {
													sr_raid_district = yes
													arms_factory > 0
													NOT = { state = PREV.PREV }
													NOT = { state = PREV.PREV.PREV.PREV }
												}
												damage_building = {
													type = arms_factory
													damage = 0.9
												}
												if = {
													limit = {
														dockyard > 0
													}
													damage_building = {
														type = dockyard
														damage = 0.9
													}
												}
											}
										}
									}
								}
							}
						}
						25 = {}
					}
				}
				random_list = {
					60 = { country_event = { id = raid_trouble.3 } }
					25 = { country_event = { id = raid_trouble.2 } }
					15 = { country_event = { id = raid_trouble.2 } }
				}
				random_list = {
					52 = {
						add_to_variable = { var = sr_intensity value = 1 }
						custom_effect_tooltip = intensity_increases
					}
					48 = {}
				}
			}
			else_if = {
				limit = { check_variable = { sr_intensity = 10 } }
				#secession_raid_crisis = yes # Calls the scripted effect to launch a secession crisis
			}
			else = {
				custom_effect_tooltip = "Something has gone really fucking wrong - tell @HappyNTH"
			}
		}
		complete_effect = {

		}
	}
	enlargen_garrison_sr = {
		visible = {
			any_owned_state = {
				sr_raid_district = yes
			}
		}
		custom_cost_trigger = { # Scales the cost
			if = {
				limit = { NOT = { has_variable = sr_garrison_use } }
				has_manpower > 25
			}
			if = {
				limit = { check_variable = { sr_garrison_use = 1 } }
				has_manpower > 50
			}
			if = {
				limit = { check_variable = { sr_garrison_use = 2 } }
				has_manpower > 100
			}
			if = {
				limit = { check_variable = { sr_garrison_use = 3 } }
				has_manpower > 200
			}
			if = {
				limit = { check_variable = { sr_garrison_use = 4 } }
				has_manpower > 400
			}
		}
		custom_cost_text = raid_crisis_scaling_manpower_sr
		available = { 
			custom_trigger_tooltip = { # Prevents it being clicked if the intensity is 0
				tooltip = has_some_intensity
				NOT = { check_variable = { sr_intensity = 0 } }
			}
			custom_trigger_tooltip = { # Prevents it being clicked if it has been used 5 times
				tooltip = garrison_limit_sr
				NOT = { check_variable = { sr_garrison_use = 5 } }
			}
		}
		days_remove = 60
		days_re_enable = 100
		complete_effect = {
			hidden_effect = {
				if = {
					limit = { NOT = { has_variable = sr_garrison_use } }
					add_manpower = -25
					set_variable = { sr_garrison_use = 1 }
				}
				else_if = {
					limit = { check_variable = { sr_garrison_use = 1 } }
					add_manpower = -50
					add_to_variable = { sr_garrison_use = 1 }
				}
				else_if = {
					limit = { check_variable = { sr_garrison_use = 2 } }
					add_manpower = -100
					add_to_variable = { sr_garrison_use = 1 }
				}
				else_if = {
					limit = { check_variable = { sr_garrison_use = 3 } }
					add_manpower = -200
					add_to_variable = { sr_garrison_use = 1 }
				}
				else_if = {
					limit = { check_variable = { sr_garrison_use = 4 } }
					add_manpower = -400
					add_to_variable = { sr_garrison_use = 1 }
				}
				else = {} # Should never happen
			}
		}
		remove_effect = {
			if = {
				limit = { has_global_flag = ncr_chose_drummund }
				random_list = {
					80 = {
						subtract_from_variable = { sr_intenisty = 2 }
						custom_effect_tooltip = lose_2_intensity
					}
					20 = {
						subtract_from_variable = { sr_intenisty = 3 }
						custom_effect_tooltip = lose_3_intensity
					}
				}
			}
			else = {
				random_list = {
					70 = {
						subtract_from_variable = { sr_intenisty = 1 }
						custom_effect_tooltip = lose_1_intensity
					}
					30 = {
						subtract_from_variable = { sr_intenisty = 2 }
						custom_effect_tooltip = lose_2_intensity
					}
				}
			}
			custom_effect_tooltip = return_in_100_days
		}
	}
	attempt_integration_sr = {
		visible = {
			any_owned_state = {
				sr_raid_district = yes
			}
		}
		available = { 
			custom_trigger_tooltip = { # Prevents it being clicked if the intensity is 0
				tooltip = has_some_intensity
				NOT = { check_variable = { sr_intensity = 0 } }
			}
		}
		cost = 50
		days_remove = 100
		days_re_enable = 60
		remove_effect = {
			random_list = {
				60 = {} # No effect
				35 = {
					subtract_from_variable = { sr_intenisty = 2 }
					custom_effect_tooltip = lose_2_intensity
				}
				5 = {
					subtract_from_variable = { sr_intenisty = 3 }
					custom_effect_tooltip = lose_3_intensity
				}
			}
			custom_effect_tooltip = return_in_60_days
		}
	}
	arm_civilians_sr = {
		visible = {
			any_owned_state = {
				sr_raid_district = yes
			}
		}
		custom_cost_trigger = { # Scales the cost
			if = {
				limit = { NOT = { has_variable = sr_arms_use } }
				has_50_weapons = yes
			}
			if = {
				limit = { check_variable = { sr_arms_use = 1 } }
				has_100_weapons = yes
			}
			if = {
				limit = { check_variable = { sr_arms_use = 2 } }
				has_200_weapons = yes
			}
			if = {
				limit = { check_variable = { sr_arms_use = 3 } }
				has_400_weapons = yes
			}
			if = {
				limit = { check_variable = { sr_arms_use = 4 } }
				has_800_weapons = yes
			}
		}
		custom_cost_text = raid_crisis_scaling_weapons_sr
		available = { 
			custom_trigger_tooltip = { # Prevents it being clicked if the intensity is 0
				tooltip = has_some_intensity
				NOT = { check_variable = { sr_intensity = 0 } }
			}
			custom_trigger_tooltip = { # Prevents it being clicked if it has been used 5 times
				tooltip = arms_limit_sr
				NOT = { check_variable = { sr_arms_use = 5 } }
			}
		}
		days_remove = 30
		days_re_enable = 60
		complete_effect = {
			hidden_effect = {
				if = {
					limit = { NOT = { has_variable = sr_garrison_use } }
					remove_50_weapons = yes
					set_variable = { sr_arms_use = 1 }
				}
				else_if = {
					limit = { check_variable = { sr_garrison_use = 1 } }
					remove_100_weapons = yes
					add_to_variable = { sr_arms_use = 1 }
				}
				else_if = {
					limit = { check_variable = { sr_garrison_use = 2 } }
					remove_200_weapons = yes
					add_to_variable = { sr_arms_use = 1 }
				}
				else_if = {
					limit = { check_variable = { sr_garrison_use = 3 } }
					remove_400_weapons = yes
					add_to_variable = { sr_arms_use = 1 }
				}
				else_if = {
					limit = { check_variable = { sr_garrison_use = 4 } }
					remove_800_weapons = yes
					add_to_variable = { sr_arms_use = 1 }
				}
				else = {} # Should never happen
			}
		}
		remove_effect = {
			random_list = {
				70 = {
					subtract_from_variable = { sr_intenisty = 1 }
					custom_effect_tooltip = lose_1_intensity
				}
				30 = {} # No effect
			}
			custom_effect_tooltip = return_in_60_days
		}
	}
	## Redding ##

	## Diablo ##

	## Dayglow ##

	## Rapids ##

	## Boneyard ##

	## The Divide ##

	## Southern Mojave ##

	## Central Mojave ##

	## Northern Mojave ##

	## Baja ##

	## The Ranchers ##

	## Nevada Range ##

	## Junktown ##
}