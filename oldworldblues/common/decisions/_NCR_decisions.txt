NCR_helios_category = {

	NCR_repair_helios_fantastic = {

		icon = generic_oppression
		
		available = {
			NCR = { owns_state = 417 }
			NCR = { controls_state = 417 }
		}

		highlight_states = {
			state = 417
		}

		cost = 50

		ai_will_do = {
			factor = 33
		}

		visible = {
			NCR = { owns_state = 417 }
			NOT = { has_country_flag = NCR_helios_brotherhood}
			OR = { NOT = { has_country_flag = NCR_helios_fantastic}}
			OR = { NOT = { has_country_flag = NCR_helios_followers}}
		}

		is_good = yes

		complete_effect = {
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Root.GetName] NCR_repair_helios_fantastic (decision) complete entered"
			}
			set_country_flag = NCR_helios_fantastic
			
			417 = {
			add_extra_state_shared_building_slots = 5
			add_building_construction = {
					type = electricity_generator
					level = 5
					instant_build = yes
				}	
				add_resource = {
					type = fuel
					amount = 15
				}	
				add_resource = {
					type = electricity
					amount = 15
				}				  
			}
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Root.GetName] NCR_repair_helios_fantastic (decision) complete exited"
			}
		}
	}
	
	NCR_repair_helios_followers = {

		icon = generic_oppression
		
		available = {
			NCR = { owns_state = 417 }
			NCR = { controls_state = 417 }
		}

		highlight_states = {
			state = 417
		}

		cost = 100

		ai_will_do = {
			factor = 33
		}

		visible = {
			NCR = { owns_state = 417 }
			NOT = { has_country_flag = NCR_helios_brotherhood}
			OR = { NOT = { has_country_flag = NCR_helios_fantastic}}
			OR = {NOT = { has_country_flag = NCR_helios_followers}}
		}

		is_good = yes

		complete_effect = {
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Root.GetName] NCR_repair_helios_followers (decision) complete entered"
			}
			set_country_flag = NCR_helios_followers
			417 = {
				add_extra_state_shared_building_slots = 5
				add_building_construction = {
						type = electricity_generator
						level = 5
						instant_build = yes
					}	
				add_resource = {
					type = fuel
					amount = 20
				}
				add_resource = {
					type = electricity
					amount = 20
				}
			}
			custom_effect_tooltip = repair_helios_vegas_tt
			hidden_effect = {
				VEG = { add_opinion_modifier = { target = NCR modifier = repairedhelios }}
				KHA = { add_opinion_modifier = { target = NCR modifier = repairedhelios }} 
				NCR = { add_opinion_modifier = { target = KHA modifier = repairedhelios }}
				NCR = { add_opinion_modifier = { target = VEG modifier = repairedhelios }}
				480 = {
					add_resource = {
						type = electricity
						amount = 5
					}	
					add_resource = {
						type = fuel
						amount = 5
					}
				}
				
				46 = {
					add_resource = {
						type = electricity
						amount = 5
					}
					add_resource = {
						type = fuel
						amount = 5
					}
				}
				
				211 = {
					add_resource = {
						type = electricity
						amount = 5
					}
					add_resource = {
						type = fuel
						amount = 5
					}
				}
				
				106 = {
					add_resource = {
						type = electricity
						amount = 5
					}
					add_resource = {
						type = fuel
						amount = 5
					}
				}
			}
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Root.GetName] NCR_repair_helios_followers (decision) complete exited"
			}
		}
	}
	
	NCR_repair_helios_brotherhood = {

		icon = generic_oppression
		
		available = {
			NCR = { owns_state = 417 }
			NCR = { controls_state = 417 }
			MOJ = { exists = yes }
		}

		highlight_states = {
			state = 417
		}

		cost = 150

		ai_will_do = {
			factor = 33
		}

		visible = {
			NCR = { owns_state = 417 }
			NOT = { has_country_flag = NCR_helios_followers}
			OR = { NOT = { has_country_flag = NCR_helios_fantastic}}
			OR = { NOT = { has_country_flag = NCR_helios_brotherhood}}
			MOJ = { exists = yes }
		}

		is_good = yes

		complete_effect = {
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Root.GetName] NCR_repair_helios_brotherhood (decision) complete entered"
			}
			set_country_flag = NCR_helios_brotherhood
			417 = {
				add_extra_state_shared_building_slots = 5
				add_building_construction = {
						type = electricity_generator
						level = 5
						instant_build = yes
					}
				add_resource = {
					type = fuel
					amount = 35
				}
				add_resource = {
					type = electricity
					amount = 35
				}
			}
			custom_effect_tooltip = NCR_coup_tt
			hidden_effect = {
				random_list = {
					50 = {
						country_event = ncr_helios_event.21
						MOJ = {country_event = ncr_helios_event.23}
					}
					50 = {
						country_event = ncr_helios_event.22
					}
				}
			}
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Root.GetName] NCR_repair_helios_brotherhood (decision) complete exited"
			}
		}
	}
}

NCR_heavytroops_focus_category = {
	NCR_armourexperiment_focus = {
		icon = GFX_decision_oppression
		
		available = {
			NCR = { owns_state = 253 }
			NCR = { controls_state = 253 }
			hidden_trigger = { NCR = { NOT = { has_country_flag = ncr_spawned_armorexperiment } } }
		}

		highlight_states = {
			state = 253
		}

		cost = 0

		ai_will_do = {
			factor = 100
		}

		visible = {
			NCR = { owns_state = 253 }
			NCR = { has_completed_focus = ncr_armourexperiment }
			hidden_trigger = { NCR = { NOT = { has_country_flag = ncr_spawned_armorexperiment } } }
		}

		is_good = yes

		complete_effect = {
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Root.GetName] NCR_armourexperiment_focus (decision) complete entered"
			}
			custom_effect_tooltip = load_ncrheavytroops
			hidden_effect = {
				load_oob = ncrheavytroops
				set_country_flag = ncr_spawned_armorexperiment
			}
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Root.GetName] NCR_armourexperiment_focus (decision) complete exited"
			}
		}
	}
	NCR_protege_focus = {
		icon = GFX_decision_oppression
		
		available = {
			NCR = { owns_state = 253 }
			NCR = { controls_state = 253 }
			hidden_trigger = { NCR = { NOT = { has_country_flag = ncr_spawned_protege } } }
		}

		highlight_states = {
			state = 253
		}

		cost = 0

		ai_will_do = {
			factor = 100
		}

		visible = {
			NCR = { owns_state = 253 }
			NCR = { has_completed_focus = ncr_protege }
			hidden_trigger = { NCR = { NOT = { has_country_flag = ncr_spawned_protege } } }
		}

		is_good = yes

		complete_effect = {
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Root.GetName] NCR_protege_focus (decision) complete entered"
			}
			custom_effect_tooltip = load_ncrheavytroops
			hidden_effect = {
				load_oob = ncrheavytroops
				set_country_flag = ncr_spawned_protege
			}
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Root.GetName] NCR_protege_focus (decision) complete exited"
			}
		}
	}
	NCR_heavytroops_focus = {
		icon = GFX_decision_oppression
		
		available = {
			NCR = { owns_state = 253 }
			NCR = { controls_state = 253 }
			hidden_trigger = { NCR = { NOT = { has_country_flag = ncr_spawned_heavytroops } } }
		}

		highlight_states = {
			state = 253
		}

		cost = 0

		ai_will_do = {
			factor = 100
		}

		visible = {
			NCR = { owns_state = 253 }
			NCR = { has_completed_focus = ncr_heavytroops }
			hidden_trigger = { NCR = { NOT = { has_country_flag = ncr_spawned_heavytroops } } }
		}

		is_good = yes

		complete_effect = {
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Root.GetName] NCR_heavytroops_focus (decision) complete entered"
			}
			custom_effect_tooltip = load_ncrheavytroops
			hidden_effect = {
				load_oob = ncrheavytroops
				set_country_flag = ncr_spawned_heavytroops
			}
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Root.GetName] NCR_heavytroops_focus (decision) complete exited"
			}
		}
	}
}

ncr_revolts = {
	seek_peace = {
		visible = {
			has_variable = revolt_progress
			tag = NCR
		}
		fire_only_once = yes
		cost = 0
		ai_will_do = { # AI will do it after 3 events have fired
			factor = 0
			modifier = {
				add = 1000
				check_variable = { var = revolt_progress value = 2 compare = greater_than_or_equals }
			}
		}
		complete_effect = {
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Root.GetName] seek_peace (decision) complete entered"
			}
			every_country = {
				limit = {
					OR = {
						tag = PHR
						is_in_faction_with = PHR
					}
				}
				white_peace = NCR
			}
			hidden_effect = { PHR = { country_event = { id = nf_ncr.40 days = 10 } } } # Dissolution of the Federation
			if = {
				limit = { check_variable = { revolt_progress = 1 } }
				add_political_power = -50 # wuss
			}
			else_if = {
				limit = { check_variable = { revolt_progress = 2 } }
				add_timed_idea = { idea = ncr_revolts_development days = 60 }
				every_country = {
					limit = {
						OR = {
							tag = PHR
							is_in_faction_with = PHR
						}
					}
					add_timed_idea = { idea = ncr_revolts_payments days = 60 }
				}
				add_political_power = -20 # Slightly less of a wuss
			}
			else_if = {
				limit = { check_variable = { revolt_progress = 2 } }
				add_timed_idea = { idea = ncr_revolts_development days = 90 }
				every_country = {
					limit = {
						OR = {
							tag = PHR
							is_in_faction_with = PHR
						}
					}
					add_timed_idea = { idea = ncr_revolts_payments days = 90 }
				}
			}
			else_if = {
				limit = { check_variable = { revolt_progress = 3 } }
				add_timed_idea = { idea = ncr_revolts_development days = 180 }
				every_country = {
					limit = {
						OR = {
							tag = PHR
							is_in_faction_with = PHR
						}
					}
					add_timed_idea = { idea = ncr_revolts_payments days = 180 }
				}
			}
			else_if = {
				limit = { check_variable = { revolt_progress = 4 } }
				add_timed_idea = { idea = ncr_revolts_development days = 360 }
				every_country = {
					limit = {
						OR = {
							tag = PHR
							is_in_faction_with = PHR
						}
					}
					add_timed_idea = { idea = ncr_revolts_payments days = 360 }
				}
			}
			else_if = {
				limit = { check_variable = { revolt_progress = 5 } }
				add_timed_idea = { idea = ncr_revolts_development days = 720 }
				every_country = {
					limit = {
						OR = {
							tag = PHR
							is_in_faction_with = PHR
						}
					}
					add_timed_idea = { idea = ncr_revolts_payments days = 720 }
				}
			}
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Root.GetName] seek_peace (decision) complete exited"
			}
		}
	}
}
