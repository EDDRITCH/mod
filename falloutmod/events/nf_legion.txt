add_namespace = nf_legion

# Debug - Restores Caesar
country_event = {
	id = nf_legion.100
	title = nf_legion.100.title
	desc = nf_legion.100.desc
	picture = GFX_report_event_fascist_speech

    is_triggered_only = yes

	option = {
		name = nf_legion.1.option.a
        
        create_country_leader  = {
            name = "Caesar"
            desc = "Caesar_DESC"
            picture = "Portrait_Caesar.dds"
            expire = "3000.1.1"
            ideology = benevolent_dictatorship
            
            traits = {
                cruel_tyrant
                warmonger
            }
        }
	}
}

# The White Legs Petition
country_event = {
	id = nf_legion.1
	title = nf_legion.1.title
	desc = nf_legion.1.desc
	picture = GFX_report_event_fascist_speech

    is_triggered_only = yes
    
    # Ally
	option = {
		name = nf_legion.1.option.a
        
		ai_chance = {
			base = 1
			modifier = {
				is_historical_focus_on = yes
				factor = 100
			}
		}
		
        set_country_flag = accepted_petition
		
		add_opinion_modifier = { 
            target = CES 
            modifier = loyal_tribe
        }   
        reverse_add_opinion_modifier = { 
            target = CES
            modifier = loyal_tribe
        }
		
		declare_war_on = {
			target = NCN
			type = annex_everything
		}
	}
    
    # Refuse
    option = {
		name = nf_legion.1.option.b
        
		ai_chance = {
			base = 1
			modifier = {
				is_historical_focus_on = no
				factor = 100
			}
		}
		
		set_country_flag = refused_petition
	}
}

# The Eighties Petition
country_event = {
	id = nf_legion.2
	title = nf_legion.2.title
	desc = nf_legion.2.desc
	picture = GFX_report_event_fascist_speech

    is_triggered_only = yes
    
	# Ally
	option = {
		name = nf_legion.2.option.a
        
		ai_chance = {
			base = 7
		}
		
        set_country_flag = accepted_petition
        
        add_opinion_modifier = { 
            target = CES 
            modifier = loyal_tribe
        }   
        reverse_add_opinion_modifier = { 
            target = CES
            modifier = loyal_tribe
        }
		
		declare_war_on = {
			target = NCN
			type = annex_everything
		}
	}
    
    # Refuse
    option = {
		name = nf_legion.2.option.b
        
		ai_chance = {
			base = 3
		}
		
		set_country_flag = refused_petition
        
        add_opinion_modifier = { 
            target = CES 
            modifier = disloyal_tribe
        }   
        reverse_add_opinion_modifier = { 
            target = CES
            modifier = disloyal_tribe
        }
	}
}

# Success at Hoover Dam
country_event = {
	id = nf_legion.3
	title = nf_legion.3.title
	desc = nf_legion.3.desc
	picture = GFX_report_event_fascist_speech

    is_triggered_only = yes
    
	option = {
		name = nf_legion.3.option.a
        
        hidden_effect = {
            set_country_flag = hoover_dam_won
            clr_country_flag = battle_for_hoover_dam
        }
	}
}

# Failure at Hoover Dam
country_event = {
	id = nf_legion.4
	title = nf_legion.4.title
	desc = nf_legion.4.desc
	picture = GFX_report_event_fascist_speech

    is_triggered_only = yes
    
	option = {
		name = nf_legion.4.option.a
        
        hidden_effect = {
            set_country_flag = hoover_dam_lost
            clr_country_flag = battle_for_hoover_dam
        }
	}
}

# Caesar's Illness
country_event = {
	id = nf_legion.5
	title = nf_legion.5.title
	desc = nf_legion.5.desc
	picture = GFX_report_event_fascist_speech

    is_triggered_only = yes
    
	option = {
		name = nf_legion.5.option.a
        
        kill_country_leader = yes
		
		if = {
			limit = {
				NOT = {
					has_completed_focus = ces_the_burned_man
				}
			}
			
			create_country_leader  = {
				name = "Malpais Legate"
				desc = "Graham_DESC"
				picture = "Portrait_Malpais.dds"
				expire = "3000.1.1"
				ideology = benevolent_dictatorship
				id = 996
				
				traits = {
					warmonger
				}
			}
				
		}
		
		if = {
			limit = {
				has_completed_focus = ces_the_burned_man
			}
					
			create_country_leader  = {
				name = "Lanius"
				desc = "Lanius_DESC"
				picture = "Portrait_Lanius.dds"
				expire = "3000.1.1"
				ideology = warlordship
				id = 996
				
				traits = {
					cruel_tyrant
					warmonger
				}
			}
			
			declare_war_on = {
			target = CSI
			type = civil_war
		}
			
			CSI = {
			
				set_politics = {
					ruling_party = elites
				}
			
				create_country_leader  = {
					name = "Vulpes Inculta"
					desc = "Inculta_DESC"
					picture = "Portrait_Inculta.dds"
					expire = "3000.1.1"
					ideology = feudalism
					id = 997
					
					traits = {
						cruel_tyrant
					}
				}
		
				every_state = {
					limit = {
						is_arizona_state = yes
						is_owned_by = CES
						
					}
					CSI = {
						transfer_state = PREV
					}
				}
			
			}
			
		}
		
        
	}
	
	option = {
		name = nf_legion.5.option.b
        
        kill_country_leader = yes
        		
		create_country_leader  = {
			name = "Vulpes Inculta"
			desc = "Inculta_DESC"
			picture = "Portrait_Inculta.dds"
			expire = "3000.1.1"
			ideology = feudalism
			id = 997
			
			traits = {
				cruel_tyrant
			}
		}
		
		set_politics = {
			ruling_party = elites
		}
		
		declare_war_on = {
			target = CSI
			type = civil_war
		}
		
		CSI = {
			
			if = {
				limit = {
					NOT = {
						CES = {
							has_completed_focus = ces_the_burned_man
						}
					}
				}
				
				create_country_leader  = {
					name = "Malpais Legate"
					desc = "Graham_DESC"
					picture = "Portrait_Malpais.dds"
					expire = "3000.1.1"
					ideology = benevolent_dictatorship
					id = 996
					
					traits = {
						warmonger
					}
				}
					
			}
			
			if = {
				limit = {
					CES = {
						has_completed_focus = ces_the_burned_man
					}
				}
						
				create_country_leader  = {
					name = "Lanius"
					desc = "Lanius_DESC"
					picture = "Portrait_Lanius.dds"
					expire = "3000.1.1"
					ideology = warlordship
					id = 996
					
					traits = {
						cruel_tyrant
						warmonger
					}
				}
				
				every_state = {
					limit = {
						OR = {
							is_new_mexico_state = yes
							is_colorado_state = yes
						}
						is_owned_by = CES
					}
					CSI = {
						transfer_state = PREV
					}
				}
				
			}
			
			
			
		}
        
	}
    
    option = {
		name = nf_legion.5.option.c
        
        trigger = {
            has_completed_focus = ces_goddess_diana
			has_completed_focus = ces_the_twin_temples
        }
        
		set_country_flag = caesar_survived
		
        add_national_unity = -0.1
		country_event = { id = nf_legion.6 }
        
	}
}

country_event = {
	id = nf_legion.6
	title = nf_legion.6.title
	desc = nf_legion.6.desc
	picture = GFX_report_event_fascist_speech

    is_triggered_only = yes
    
	option = {
		name = nf_legion.6.option.a
        
        add_political_power = 100
	}
    
    option = {
		name = nf_legion.6.option.b
        
		CSI = {
			annex_country = { target = CES transfer_troops = yes }
		}
		CES = {
		
			create_country_leader  = {
				name = "Lucius"
				desc = "Lucius_DESC"
				picture = "Portrait_Lucius.dds"
				expire = "3000.1.1"
				ideology = benevolent_dictatorship
				id = 995
				
				traits = {
				}
			}
			
			set_research_slots = 4
			set_politics = {
				parties = {
					people = { popularity = 0 }
					elites = { popularity = 20 }
					intellectuals = { popularity = 30 }
					ruler = { popularity = 50 }
				}
				ruling_party = ruler
				elections_allowed = no
			}
			
			set_cosmetic_tag = BOM
			
			set_capital = 359	
			
			transfer_state = 359
			transfer_state = 553
			transfer_state = 49
			
			if = {
				limit = {
					252 = {
						is_owned_by = CES
					}
				}
				
				transfer_state = 252
			}
			
			
			declare_war_on = {
				target = CSI
				type = civil_war
			}
			
			hidden_effect = {
				set_technology = {
					powered_weaponry = 1
					scientific_civilization = 1
					improved_laser_weaponry = 1
					power_armour = 1
					securitron_tech = 1
				}
				load_oob = brotherhoodofmars
			}
		}
		
	}
}

# Expedition to Blackfoot
country_event = {
	id = nf_legion.7
	title = nf_legion.7.title
	desc = nf_legion.7.desc
	picture = GFX_report_event_fascist_speech

    is_triggered_only = yes
    
	option = {
		name = nf_legion.7.option.a
        
        add_ideas = legion_nf_weapon_maintenance
	}
    
    option = {
		name = nf_legion.7.option.b
        
        add_ideas = legion_nf_unit_tactics
	}
    
    option = {
		name = nf_legion.7.option.c
        
        add_ideas = legion_nf_explosives_creation
	}
}

# Death in the Canyons
country_event = {
	id = nf_legion.8
	title = nf_legion.8.title
	desc = nf_legion.8.desc
	picture = GFX_report_event_fascist_speech

    is_triggered_only = yes
    
	option = {
		name = nf_legion.8.option.a
        
        add_ideas = legion_nf_ridgers_pyre
	}
    
    option = {
		name = nf_legion.8.option.b
        
        add_ideas = legion_nf_kaibab_crucifiction
	}
    
    option = {
		name = nf_legion.8.option.c
        
        add_ideas = legion_nf_fredonian_arena
	}
}

# The Malpais Legate
country_event = {
	id = nf_legion.9
	title = nf_legion.9.title
	desc = nf_legion.9.desc
	picture = GFX_report_event_fascist_speech

    is_triggered_only = yes
    
	option = {
		name = nf_legion.9.option.a
        
        create_corps_commander = {
            name = "Malpais Legate"
            portrait_path = "gfx/leaders/CES/Portrait_Malpais.dds"
            skill = 5
            traits = {
                urban_assault_specialist
            }
        }
        
        custom_effect_tooltip = legion_siege_battalion_tt
        hidden_effect = { load_oob = "legion_siege_battalion" }
	}
    
    option = {
		name = nf_legion.9.option.b
        
        create_corps_commander = {
            name = "Malpais Legate"
            portrait_path = "gfx/leaders/CES/Portrait_Malpais.dds"
            skill = 5
            traits = {
                desert_fox
                trickster
            }
        }
        
        custom_effect_tooltip = legion_recon_battalion_tt
        hidden_effect = { load_oob = "legion_recon_battalion" }
	}
    
    option = {
		name = nf_legion.9.option.c
        
        create_corps_commander = {
            name = "Malpais Legate"
            portrait_path = "gfx/leaders/CES/Portrait_Malpais.dds"
            skill = 5
            traits = {
                desert_fox
            }
        }
        
		custom_effect_tooltip = legion_chariots_tt
        hidden_effect = { load_oob = "legion_chariots" }
	}
}

# Caesar, Son of Mars
country_event = {
	id = nf_legion.10
	title = nf_legion.10.title
	desc = nf_legion.10.desc
	picture = GFX_report_event_fascist_speech

    is_triggered_only = yes
    
	option = {
		name = nf_legion.10.option.a
        
        add_ideas = legion_nf_profligate_destruction
	}
    
    option = {
		name = nf_legion.10.option.b
        
        add_ideas = legion_nf_divide_et_impera
	}
    
    option = {
		name = nf_legion.10.option.c
        
        add_ideas = legion_nf_decimatio
	}
}

country_event = {	#Legion lost
	id = nf_legion.11
	title = nf_legion.11.t
	desc = nf_legion.11.d
	picture = GFX_report_event_fascist_speech

	fire_only_once = yes

	trigger = {
		tag = NCR
		has_war_with = CES
		CES = {
			surrender_progress > 0.9
		}
	}
	
	option = {
		name = nf_legion.11.a #Puppet states
		
		every_state = {
			limit = {
				is_colorado_state = yes
				is_core_of = CES
			}
			COL = {
				transfer_state = PREV
			}
			add_core_of = COL
		}
		
		every_state = {
			limit = {
				is_arizona_state = yes
				is_core_of = CES
			}
			ARZ = {
				transfer_state = PREV
			}
			add_core_of = ARZ
		}
		
		every_state = {
			limit = {
				is_new_mexico_state = yes
				is_core_of = CES
			}
			NMS = {
				transfer_state = PREV
			}
			add_core_of = NMS
		}
		
		NCR = {
			puppet = COL
			puppet = ARZ
			puppet = NMS
		}
		
	
	}
	
	option = {
		name = nf_legion.11.b #Return to Tribes/ Balkanize
		
		
		every_state = {
			limit = {
				is_core_of = TWI
			}
			TWI = {
				transfer_state = PREV
			}
		}
		every_state = {
			limit = {
				is_core_of = HAN
			}
			HAN = {
				transfer_state = PREV
			}
		}
		every_state = {
			limit = {
				is_core_of = TWO
			}
			TWO = {
				transfer_state = PREV
			}
		}
		every_state = {
			limit = {
				is_core_of = TTM
			}
			TTM = {
				transfer_state = PREV
			}
		}
		every_state = {
			limit = {
				is_core_of = COW
			}
			COW = {
				transfer_state = PREV
			}
		}
		
	}
	
	option = {
		name = nf_legion.11.c #Take it all for yourself
		
		every_state = {
			limit = {
				is_core_of = CES
			}
			NCR = {
				transfer_state = PREV
			}
		}
		
		add_national_unity = -0.2
		
	}	
	

}

country_event = {	#Hoover Dam over
	id = nf_legion.12
	title = nf_legion.12.t
	desc = nf_legion.12.d
	picture = GFX_report_event_fascist_speech
	
	is_triggered_only = yes
	
	option = {
		name = nf_legion.12.a #Lost the war
		
		trigger = {
			NOT = {
				252 = {
					controller = {
						tag = ROOT
					}
				}
			}
		}
		
		hidden_effect = {
			white_peace = NCR
			white_peace = CES
		}
		
		set_country_flag = hoover_dam_lost
		clr_country_flag = battle_for_hoover_dam
		
	}
	
	option = {
		name = nf_legion.12.b #Congrats u win
		
		trigger = {
			252 = {
				controller = {
					tag = ROOT
				}
			}
		}
		
		set_country_flag = hoover_dam_won
		transfer_state = 252
		transfer_state = 613

		hidden_effect = {
			white_peace = NCR
			white_peace = CES
		}
	
		clr_country_flag = battle_for_hoover_dam
		
	}
	
}