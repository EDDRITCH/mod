# Scripted by Mechano for use with coring laws
add_namespace = coring_event
country_event = {
	id = coring_event.1
	fire_only_once = no
	mean_time_to_happen = { days = 1 }
	hidden = no
	
	title = coring_event.1.t
	desc = coring_event.1.d
	
	trigger = {
		any_owned_state = {
			has_state_flag = {
				flag = coring_state
				days > 100
			}
		}
	}
	option = {
		name = coring_event.1.a
		every_owned_state = {
			limit = {
				has_state_flag = {
					flag = coring_state
					days > 100
				}
			}
			add_core_of = FROM
			hidden_effect = {
				add_state_modifier = { modifier = { local_non_core_manpower = -0.18 } }
			}
			clr_state_flag = coring_state
		}
		remove_ideas = coring_state
		remove_ideas = core_state
	}
}

# AI event forces them to core
country_event = {
	id = coring_event.2
	fire_only_once = no
	mean_time_to_happen = { days = 1 }
	hidden = no
	
	title = coring_event.2.t
	desc = coring_event.2.d
	
	trigger = {
			is_ai = yes
			is_major = no
			NOT = {
				OR = {
				has_idea = coring_state
				has_idea = core_state
				}
			}
			any_owned_state = {
				is_controlled_by = ROOT
				NOT = {
					is_core_of = ROOT
				}
			}
	}
	option = {
		add_ideas = core_state
		add_ideas = coring_state
		random_owned_controlled_state = {
			limit = {
				NOT = {
					is_core_of = ROOT
				}
			}
			set_state_flag = coring_state
		}
	}
}